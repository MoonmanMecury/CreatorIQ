Here's your complete Step 6 prompt for Antigravity:

---

# PROMPT: AI Content Strategy Generator — CreatorIQ Step 6

---

## PROJECT CONTEXT

You are continuing development of **CreatorIQ**, a SaaS web application that helps creators, marketers, and agencies discover high-opportunity content niches using real data.

**Stack:**
- Next.js 14 (App Router), TypeScript, Tailwind CSS, shadcn/ui, React Query
- ASP.NET Core REST API backend
- PostgreSQL database
- JWT authentication

**What is already complete:**

*Step 1 — Data Normalization Layer (C# backend):*
- `NormalizationService` producing `demand_score`, `growth_score`, `supply_score`, `engagement_score`, `regional_strength` (0–100)

*Step 2 — Data Fusion & Scoring Layer:*
- `/features/insights/types.ts` — `TrendSignal`, `CreatorSignal`, `OpportunityScore`, `InsightsResponse`
- `/features/insights/scoring.ts`, `/app/api/insights/route.ts`, `/features/insights/hooks/useInsights.ts`
- Components: `OpportunityPanel`, `MarketSnapshotCards`

*Step 3 — Creator Opportunity Finder:*
- `/features/opportunities/types.ts` — `GapSignals`, `BreakoutVideo`, `UnderservedKeyword`, `OpportunityResult`, `RawVideoData`
- `/features/opportunities/gapAnalysis.ts`, `opportunityIndex.ts`, `breakoutDetection.ts`, `keywordExpansion.ts`
- `/app/api/opportunities/route.ts`, hook, components: `OpportunityScoreCard`, `CompetitionWeaknessPanel`, `BreakoutVideosList`, `UnderservedKeywordsList`

*Step 4 — Creator & Channel Intelligence:*
- `/features/creators/types.ts` — `ChannelProfile`, `VideoPerformance`, `ChannelBenchmark`, `ContentStrategyInsight`, `CreatorAnalysis`
- `/features/creators/channelAnalysis.ts`, `benchmarking.ts`, services, hooks
- `app/creators/page.tsx` with full channel analysis UI

*Step 5 — Monetization Scoring Engine:*
- `/features/monetization/types.ts` — `RevenuePath`, `MonetizationScoreBreakdown`, `MonetizationInsights`, `MonetizationInput`
- All scoring modules: `adDemand.ts`, `audienceValue.ts`, `revenuePaths.ts`, `cpmEstimate.ts`, `maturity.ts`, `monetizationScore.ts`, `validation.ts`
- `/features/monetization/services/getMonetizationInsights.ts` (pure synchronous function)
- `/app/api/monetization/route.ts`, hook, components: `MonetizationScoreCard`, `RevenuePathwaysPanel`, `MonetizationBreakdownPanel`, `OpportunitiesRisksPanel`

**What you are building now:** The **AI Content Strategy Generator** — a rule-based engine that synthesizes all previous data layers into a concrete, personalized content execution plan. This is not generic advice — every output must be grounded in the actual signals from Steps 2–5.

The core question this feature answers: **"Exactly what should I create first to win this niche?"**

---

## DELIVERABLES — BUILD ALL OF THE FOLLOWING IN ORDER

---

### 1. Type Definitions

**File:** `/features/strategy/types.ts`

Define and export all of the following with full JSDoc comments on every field:

```ts
export type ContentFormat =
  | 'TUTORIAL'
  | 'REVIEW'
  | 'LIST'
  | 'CASE_STUDY'
  | 'COMMENTARY'
  | 'SHORT_FORM'
  | 'DOCUMENTARY'
  | 'COMPARISON'
  | 'INTERVIEW'
  | 'CHALLENGE'

export type DifficultyLevel = 'EASY' | 'MEDIUM' | 'HARD'

export type PostingCadence = 'LIGHT' | 'MODERATE' | 'AGGRESSIVE'

export interface ContentGap {
  topic: string                    // the missing subtopic or angle
  gapType: 'SUBTOPIC' | 'FORMAT' | 'AUDIENCE' | 'DEPTH' | 'RECENCY'
  opportunitySize: number          // 0-100
  explanation: string              // why this gap exists
  suggestedAngle: string           // how to fill it
}

export interface FormatScore {
  format: ContentFormat
  label: string                    // human-readable e.g. "Tutorial"
  successLikelihood: number        // 0-100
  reasoning: string                // why this format works for this niche
  exampleTitle: string             // a concrete example title using this format
  isShortForm: boolean
}

export interface TitleTemplate {
  template: string                 // e.g. "I Tried {topic} for 30 Days"
  patternName: string              // e.g. "Personal Challenge"
  performanceTier: 'HIGH' | 'MEDIUM' | 'LOW'
  exampleFilled: string            // template filled with the actual keyword
  whyItWorks: string
}

export interface ContentPillar {
  name: string                     // e.g. "Tool Reviews"
  description: string
  priority: number                 // 1 = highest
  sampleTopics: string[]           // 4-6 specific topic ideas
  monetizationFit: string          // which revenue path this pillar supports
  contentFormats: ContentFormat[]  // best formats for this pillar
}

export interface VideoIdea {
  title: string                    // specific, ready-to-use working title
  format: ContentFormat
  pillar: string                   // which content pillar this belongs to
  targetAudience: string           // e.g. "beginners who want to save time"
  whyItWillPerform: string         // grounded in actual data signals
  difficulty: DifficultyLevel
  estimatedProductionHours: number
  searchDemandSignal: 'LOW' | 'MEDIUM' | 'HIGH'   // based on trend data
  competitionSignal: 'LOW' | 'MEDIUM' | 'HIGH'    // based on competition data
  isShortFormVariant: boolean      // can this also be made as a Short?
  hookSuggestion: string           // opening line or hook idea
}

export interface PostingPlan {
  cadence: PostingCadence
  longFormPerWeek: number
  shortFormPerWeek: number
  weeklyCommitmentHours: number    // estimated total production hours
  firstMonthFocus: string          // plain-language description of first month strategy
  growthPhases: GrowthPhase[]
}

export interface GrowthPhase {
  phase: number                    // 1, 2, 3
  label: string                    // e.g. "Foundation Phase"
  durationWeeks: number
  goal: string
  keyActions: string[]
}

export interface DifferentiationStrategy {
  strategy: string                 // short name e.g. "Beginner-First Approach"
  description: string              // 2-sentence explanation
  priority: number                 // 1 = most recommended
  effortLevel: 'LOW' | 'MEDIUM' | 'HIGH'
  timeToImpactWeeks: number
  whyItWorks: string               // grounded in the niche's specific signals
}

export interface ContentStrategy {
  keyword: string
  strategySummary: string          // 3-4 sentence executive summary
  contentGaps: ContentGap[]
  topFormats: FormatScore[]
  titleTemplates: TitleTemplate[]
  pillars: ContentPillar[]
  videoIdeas: VideoIdea[]
  postingPlan: PostingPlan
  differentiationStrategies: DifferentiationStrategy[]
  quickWins: string[]              // 3-5 things to do in the first 2 weeks
  computedAt: string
}

export interface StrategyInput {
  keyword: string
  demandScore: number
  growthScore: number
  competitionScore: number
  saturationScore: number
  opportunityIndex: number
  marketMaturity: string
  monetizationScore: number
  topRevenuePaths: string[]        // RevenuePathType values as strings
  risingKeywords: string[]         // from Step 3 keyword expansion
  breakoutVideoTitles: string[]    // titles of breakout videos from Step 3
  avgCompetitorUploadFrequency: number
  smallCreatorAdvantage: number    // signal from Step 3
  freshnessGap: number             // signal from Step 3
}
```

---

### 2. Content Gap Analyzer

**File:** `/features/strategy/gapAnalysis.ts`

#### `analyzeContentGaps(input: StrategyInput): ContentGap[]`

Pure function. Returns 4–7 content gaps prioritized by `opportunitySize` descending.

Use the following logic to detect each gap type:

**RECENCY gap** — add if `input.freshnessGap > 60`:
- topic: `"Recent developments in ${input.keyword}"`
- explanation: "Most top content is outdated — audience is hungry for current coverage"
- suggestedAngle: "News-style updates and recaps of what's changed in the last 90 days"
- opportunitySize: `input.freshnessGap`

**SUBTOPIC gaps** — generate 2–3 by taking `input.risingKeywords` and identifying ones that don't match common existing formats. For each, create a gap object with:
- topic: the rising keyword
- gapType: `'SUBTOPIC'`
- opportunitySize: derived from growth signal (seeded from keyword string for determinism)
- explanation: "This subtopic is gaining search traction but has minimal dedicated content"
- suggestedAngle: "Dedicated deep-dive content targeting this specific angle"

**DEPTH gap** — add if `input.competitionScore < 50`:
- topic: `"In-depth ${input.keyword} masterclass content"`
- explanation: "Most existing content is surface-level — no one owns the 'definitive guide' position"
- suggestedAngle: "Long-form comprehensive guides that become the go-to resource"
- opportunitySize: `100 - input.competitionScore`

**AUDIENCE gap** — add if `input.smallCreatorAdvantage > 60`:
- topic: `"${input.keyword} for complete beginners"`
- explanation: "Existing creators assume prior knowledge — beginner audience is underserved"
- suggestedAngle: "Zero-to-hero beginner series with no assumed knowledge"
- opportunitySize: `input.smallCreatorAdvantage`

**FORMAT gap** — always add one:
- topic: `"Short-form ${input.keyword} content"`
- gapType: `'FORMAT'`
- explanation: "Long-form dominates — Shorts and quick-tip formats are underrepresented"
- suggestedAngle: "60-second actionable tips repurposed from long-form content"
- opportunitySize: 65

Sort by `opportunitySize` descending before returning.

---

### 3. Winning Format Detector

**File:** `/features/strategy/formatDetection.ts`

#### `detectWinningFormats(input: StrategyInput, breakoutTitles: string[]): FormatScore[]`

Pure function. Scores all `ContentFormat` values and returns them sorted by `successLikelihood` descending.

Use the following scoring rules. Start each format at a base score of 40, then apply modifiers:

**TUTORIAL**
- +20 if keyword contains "how to", "learn", "guide", "beginner", "start"
- +15 if `input.demandScore > 70`
- +10 if `input.smallCreatorAdvantage > 50`
- Example title: `"How to Get Started with ${input.keyword} (Complete Guide)"`
- `isShortForm`: false

**REVIEW**
- +25 if keyword contains "best", "review", "tool", "software", "product", "vs"
- +15 if `input.monetizationScore > 70` (high monetization = products to review)
- Example title: `"Honest ${input.keyword} Review — Worth It in 2025?"`
- `isShortForm`: false

**LIST**
- +20 always (lists perform universally well)
- +10 if `input.demandScore > 60`
- +10 if any breakout title contains a number
- Example title: `"10 ${input.keyword} Tips That Actually Work"`
- `isShortForm`: false

**CASE_STUDY**
- +25 if keyword contains "business", "income", "results", "success", "make money"
- +15 if `input.monetizationScore > 75`
- Example title: `"How I Used ${input.keyword} to Achieve Real Results (Case Study)"`
- `isShortForm`: false

**COMMENTARY**
- +20 if `input.growthScore > 70` (fast-moving topic = commentary opportunities)
- +10 if `input.freshnessGap > 60`
- Example title: `"The Truth About ${input.keyword} Nobody Is Talking About"`
- `isShortForm`: false

**SHORT_FORM**
- +30 if `input.freshnessGap > 50`
- +20 if `input.smallCreatorAdvantage > 60`
- Example title: `"${input.keyword} in 60 seconds"`
- `isShortForm`: true

**COMPARISON**
- +25 if keyword contains "vs", "compare", "best", "alternative", "difference"
- +15 if `input.monetizationScore > 65`
- Example title: `"${input.keyword}: Which Option Is Actually Best?"`
- `isShortForm`: false

**CHALLENGE**
- +15 if keyword contains "fitness", "diet", "productivity", "habit", "learn"
- +10 if `input.smallCreatorAdvantage > 55`
- Example title: `"I Tried ${input.keyword} for 30 Days — Here's What Happened"`
- `isShortForm`: false

Cap each score at 100. Return all formats, sorted descending. Add `reasoning` string based on which modifiers fired.

---

### 4. Title Pattern Extractor

**File:** `/features/strategy/titlePatterns.ts`

#### `extractTitlePatterns(keyword: string, breakoutTitles: string[], demandScore: number): TitleTemplate[]`

Pure function. Returns 6–8 title templates, always including these core patterns, with `exampleFilled` populated using the actual `keyword`:

| Template | Pattern Name | Why It Works |
|---|---|---|
| `"How to {topic} (Step-by-Step Guide)"` | Instructional Guide | Captures how-to search intent directly |
| `"Top 10 {topic} Tools in 2025"` | Ranked List | Numbers in titles increase CTR by ~30% |
| `"{topic} vs {topic}: Honest Comparison"` | Direct Comparison | High purchase-intent searches |
| `"I Tried {topic} for 30 Days — Here's What Happened"` | Personal Challenge | Story-driven, high curiosity gap |
| `"The Beginner's Complete Guide to {topic}"` | Beginner Authority | Captures large beginner search pool |
| `"Why {topic} Is Changing Everything in 2025"` | Trend Commentary | Taps into FOMO and trend curiosity |
| `"{topic} Mistakes You're Probably Making"` | Problem/Warning | High emotional resonance, strong CTR |
| `"I Spent 100 Hours Learning {topic} — Here's What I Found"` | Research Authority | Positions creator as invested expert |

Assign `performanceTier`:
- `'HIGH'` if the pattern matches signals in the data (e.g. Instructional Guide gets HIGH if `demandScore > 65`)
- `'MEDIUM'` for generally strong patterns
- `'LOW'` for patterns that are weaker for this specific keyword

Return sorted by performanceTier (HIGH first, then MEDIUM, then LOW).

---

### 5. Content Pillar Generator

**File:** `/features/strategy/pillars.ts`

#### `generateContentPillars(input: StrategyInput): ContentPillar[]`

Pure function. Returns 3–5 content pillars, prioritized and tailored to the keyword and data signals.

**Core logic — always generate these base pillars, customized for the keyword:**

**Pillar 1 — Foundational Education** (priority 1 if `input.demandScore > 60`)
- name: `"${keyword} Fundamentals"`
- description: "Core educational content that captures new audience entering the niche"
- sampleTopics: generate 5 beginner-oriented topic strings using the keyword
- monetizationFit: "Courses and affiliate links to learning resources"
- contentFormats: [TUTORIAL, LIST]

**Pillar 2 — Tools & Reviews** (include if `input.monetizationScore > 55` or keyword involves tech/software/products)
- name: `"${keyword} Tools & Resources"`
- description: "Product-focused content that captures buyer-intent searches"
- sampleTopics: generate 5 review/comparison topic strings
- monetizationFit: "Affiliate marketing and sponsorships"
- contentFormats: [REVIEW, COMPARISON, LIST]

**Pillar 3 — Case Studies & Results** (include if `input.opportunityIndex > 50`)
- name: "Real Results & Case Studies"
- description: "Proof-based content that builds credibility and trust"
- sampleTopics: generate 5 results/story-driven topic strings
- monetizationFit: "Coaching, consulting, and course sales"
- contentFormats: [CASE_STUDY, CHALLENGE]

**Pillar 4 — News & Commentary** (include if `input.growthScore > 65` or `input.freshnessGap > 55`)
- name: `"${keyword} News & Trends"`
- description: "Timely content that capitalizes on algorithm freshness signals"
- sampleTopics: generate 5 news/opinion topic strings
- monetizationFit: "Sponsorships and ad revenue"
- contentFormats: [COMMENTARY, SHORT_FORM]

**Pillar 5 — Deep Dives** (include if `input.competitionScore < 60`)
- name: "Advanced & In-Depth Content"
- description: "Long-form comprehensive content that dominates search rankings"
- sampleTopics: generate 5 advanced/comprehensive topic strings
- monetizationFit: "Premium courses and consulting"
- contentFormats: [TUTORIAL, DOCUMENTARY, CASE_STUDY]

Generate all `sampleTopics` dynamically — they must include the keyword and be specific, not generic. Return sorted by `priority` ascending.

---

### 6. Video Ideas Generator

**File:** `/features/strategy/videoIdeas.ts`

#### `generateVideoIdeas(input: StrategyInput, pillars: ContentPillar[], formats: FormatScore[], gaps: ContentGap[]): VideoIdea[]`

Pure function. Returns exactly 12 video ideas — 2–3 ideas per top pillar, covering a variety of formats.

For each idea:
- `title`: specific, ready-to-use working title incorporating the keyword and a concrete angle
- `format`: pick the highest-scoring format appropriate for the pillar
- `pillar`: match to one of the generated pillar names
- `targetAudience`: specific audience description (not just "beginners" — be specific, e.g. "marketers who want to automate repetitive tasks")
- `whyItWillPerform`: 1 sentence grounded in actual signals (e.g. reference `freshnessGap`, `demandScore`, `smallCreatorAdvantage`)
- `difficulty`: EASY if `estimatedProductionHours < 3`, MEDIUM if < 8, HARD if 8+
- `estimatedProductionHours`: realistic estimate based on format (SHORT_FORM: 1–2hrs, LIST: 3–5hrs, TUTORIAL: 5–8hrs, CASE_STUDY: 8–12hrs)
- `searchDemandSignal`: HIGH if `demandScore > 70`, MEDIUM if > 45, LOW otherwise
- `competitionSignal`: LOW if `competitionScore < 40`, MEDIUM if < 65, HIGH otherwise
- `isShortFormVariant`: true if format is SHORT_FORM or if the topic can easily be condensed to 60 seconds
- `hookSuggestion`: a specific opening line for the video

Ensure the 12 ideas include: at least 2 EASY ideas (quick wins), at least 2 SHORT_FORM variants, at least 1 CASE_STUDY, and a mix across all 3 difficulty levels.

---

### 7. Posting Strategy Recommender

**File:** `/features/strategy/postingPlan.ts`

#### `generatePostingPlan(input: StrategyInput): PostingPlan`

Pure function. Determines the optimal posting strategy based on market signals.

**Cadence selection:**
- `input.freshnessGap > 65` AND `input.competitionScore < 50` → `'AGGRESSIVE'` (strike while gap exists)
- `input.competitionScore > 70` → `'AGGRESSIVE'` (need volume to compete)
- `input.growthScore > 60` → `'MODERATE'`
- Otherwise → `'LIGHT'`

**Cadence parameters:**

| Cadence | Long-form/week | Short-form/week | Estimated hours/week |
|---|---|---|---|
| LIGHT | 1 | 1 | 6–8 |
| MODERATE | 2 | 3 | 12–16 |
| AGGRESSIVE | 3 | 5 | 20–25 |

**Growth phases — always generate exactly 3:**

Phase 1 — "Foundation Phase" (weeks 1–8):
- Goal: "Establish presence and test content formats"
- keyActions: 4 specific actions tailored to the keyword

Phase 2 — "Growth Phase" (weeks 9–20):
- Goal: "Build audience momentum and double down on winning formats"
- keyActions: 4 specific actions

Phase 3 — "Authority Phase" (weeks 21+):
- Goal: "Dominate the niche and activate monetization pathways"
- keyActions: 4 specific actions including monetization steps relevant to `input.topRevenuePaths`

`firstMonthFocus`: A 2-sentence plain-language description of exactly what to focus on in month 1, referencing the keyword and the top content gap.

---

### 8. Differentiation Strategy Engine

**File:** `/features/strategy/differentiation.ts`

#### `generateDifferentiationStrategies(input: StrategyInput): DifferentiationStrategy[]`

Pure function. Returns 4–6 differentiation strategies sorted by `priority` ascending (1 = most recommended).

Always evaluate and include strategies from this set based on signal thresholds:

**"Beginner-First Positioning"** — include if `input.smallCreatorAdvantage > 55`:
- description: "Own the 'most approachable creator in the niche' position by assuming zero prior knowledge in all content"
- effortLevel: LOW
- timeToImpactWeeks: 8
- priority: 1 if `input.smallCreatorAdvantage > 70`, else 2

**"Speed-to-Publish Advantage"** — include if `input.freshnessGap > 55`:
- description: "Be first to cover new developments. Publish reaction/update content within 24–48 hours of news breaking."
- effortLevel: HIGH
- timeToImpactWeeks: 4
- priority: 1 if `input.freshnessGap > 75`, else 3

**"Depth & Authority Play"** — include if `input.competitionScore < 55`:
- description: "Produce the most comprehensive resources in the niche. Become the go-to reference, not just another creator."
- effortLevel: HIGH
- timeToImpactWeeks: 16
- priority: 2

**"Underserved Sub-Niche Focus"** — include if `input.risingKeywords.length > 3`:
- description: `"Target the '${input.risingKeywords[0]}' sub-niche specifically rather than the broad topic. Less competition, faster ranking."`
- effortLevel: MEDIUM
- timeToImpactWeeks: 6
- priority: 2

**"Personal Story & Results-Driven"** — include if `input.opportunityIndex > 55`:
- description: "Document your own journey with the topic. Authenticity and personal proof outperform faceless informational content in this niche."
- effortLevel: MEDIUM
- timeToImpactWeeks: 10
- priority: 3

**"Short-Form First Strategy"** — include if `input.freshnessGap > 45` AND `input.smallCreatorAdvantage > 45`:
- description: "Build audience rapidly through Shorts, then convert viewers to long-form. Lower production cost, faster feedback loop."
- effortLevel: LOW
- timeToImpactWeeks: 6
- priority: 3

Re-sort by priority after generation. Return minimum 3, maximum 6.

---

### 9. Quick Wins Generator

**File:** `/features/strategy/quickWins.ts`

#### `generateQuickWins(input: StrategyInput, ideas: VideoIdea[], gaps: ContentGap[]): string[]`

Pure function. Returns exactly 5 specific, actionable strings representing the highest-leverage things to do in the first 2 weeks.

Always include:
1. The easiest video idea from `ideas` (lowest `estimatedProductionHours`) as a specific action: `"Film and publish: '${idea.title}' — your lowest-effort, highest-demand starting point"`
2. A keyword targeting action based on the top content gap
3. A Short-form action if any SHORT_FORM idea exists in `ideas`
4. A competitor research action specific to the niche
5. A channel setup action relevant to the top revenue path

---

### 10. Unified Strategy Service

**File:** `/features/strategy/services/getContentStrategy.ts`

Export `getContentStrategy(input: StrategyInput): ContentStrategy`.

This is a **synchronous pure function** — no API calls.

Execute in this order:
1. Call `analyzeContentGaps`
2. Call `detectWinningFormats`
3. Call `extractTitlePatterns`
4. Call `generateContentPillars`
5. Call `generateVideoIdeas` (passing pillars, formats, gaps)
6. Call `generatePostingPlan`
7. Call `generateDifferentiationStrategies`
8. Call `generateQuickWins` (passing ideas, gaps)
9. Generate `strategySummary`: 3–4 sentence executive summary constructed dynamically from the signals — reference the keyword, market maturity, top opportunity, and top differentiation strategy
10. Assemble and return the full `ContentStrategy`

Also export `buildStrategyInput(keyword: string, insightsData: InsightsResponse, opportunityData: OpportunityResult, monetizationData: MonetizationInsights): StrategyInput` — maps fields from all three upstream response types into the `StrategyInput` contract.

---

### 11. API Route

**File:** `/app/api/strategy/route.ts`

`GET /api/strategy?keyword=ai+tools`

- Require `keyword` param — return 400 with `{ error: "keyword is required" }` if missing
- Internally fetch or simulate Step 2, 3, and 5 data (seeded deterministically from keyword)
- Call `buildStrategyInput` to assemble the input
- Call `getContentStrategy`
- Return full `ContentStrategy` as JSON with status 200
- Add 900ms simulated delay (strategy generation feels like it's doing real work)
- Return 500 with `{ error: "Failed to generate content strategy", detail: string }` on failure

Example response shape:
```json
{
  "keyword": "ai tools",
  "strategySummary": "The AI tools niche presents a strong opportunity...",
  "contentGaps": [...],
  "topFormats": [...],
  "titleTemplates": [...],
  "pillars": [...],
  "videoIdeas": [...],
  "postingPlan": {
    "cadence": "MODERATE",
    "longFormPerWeek": 2,
    "shortFormPerWeek": 3,
    "weeklyCommitmentHours": 14,
    "firstMonthFocus": "...",
    "growthPhases": [...]
  },
  "differentiationStrategies": [...],
  "quickWins": [...],
  "computedAt": "2024-01-15T10:30:00Z"
}
```

---

### 12. React Query Hook

**File:** `/features/strategy/hooks/useStrategy.ts`

Export `useStrategy(keyword: string | null)`:
- Query key: `['strategy', keyword]`
- Only fetch when keyword is non-null and non-empty
- Stale time: 15 minutes (strategy doesn't change often)
- Retry: 2
- Return `{ data, isLoading, isError, error, refetch }` typed against `ContentStrategy`

---

### 13. UI Components

#### Strategy Summary Card

**File:** `/features/strategy/components/StrategySummaryCard.tsx`

Props: `{ data: ContentStrategy | undefined, isLoading: boolean }`

Display:
- "Your Content Strategy" heading
- `strategySummary` text in a highlighted blockquote-style container
- Three stat pills: content pillars count, video ideas count, posting cadence label
- Skeleton loading state

#### Content Pillars Grid

**File:** `/features/strategy/components/ContentPillarsGrid.tsx`

Props: `{ pillars: ContentPillar[], isLoading: boolean }`

Render each pillar as a card:
- Pillar name with a priority badge (Pillar 1, 2, etc.)
- Description text
- `sampleTopics` as a bulleted list (show first 4)
- `monetizationFit` in a muted small text row with a dollar icon
- Format badges for `contentFormats`
- Responsive 2-column grid on desktop, single column on mobile
- Skeleton (3 placeholder cards)

#### Winning Formats Panel

**File:** `/features/strategy/components/WinningFormatsPanel.tsx`

Props: `{ formats: FormatScore[], isLoading: boolean }`

Show top 5 formats as ranked rows:
- Rank number
- Format label
- `successLikelihood` as an animated progress bar
- `reasoning` in small muted text
- `exampleTitle` in italic below
- SHORT_FORM variants get a "⚡ Short-form" badge
- Skeleton (5 rows)

#### Video Ideas Board

**File:** `/features/strategy/components/VideoIdeasBoard.tsx`

Props: `{ ideas: VideoIdea[], isLoading: boolean }`

Render as a responsive grid of cards. Each card shows:
- Video title (bold, 2-line truncation)
- Format badge + Difficulty badge (color-coded: EASY green, MEDIUM amber, HARD red)
- Target audience in small muted text
- `whyItWillPerform` text
- Bottom row: estimated hours, demand signal badge, competition signal badge
- `hookSuggestion` in a collapsed expand section (click to reveal)
- `isShortFormVariant` shown as a small ⚡ indicator on the card
- Skeleton (6 placeholder cards in grid)

Allow filtering by: All / Easy / Short-Form / High Demand — implemented as tab buttons above the grid.

#### Differentiation Panel

**File:** `/features/strategy/components/DifferentiationPanel.tsx`

Props: `{ strategies: DifferentiationStrategy[], isLoading: boolean }`

Display ranked strategies as expandable rows:
- Priority badge (#1, #2, etc.)
- Strategy name as heading
- Effort level badge: LOW (emerald), MEDIUM (amber), HIGH (red)
- Time to impact: "~{n} weeks to see results"
- `description` text
- `whyItWorks` text in muted italic
- Top strategy (#1) should be visually highlighted — slightly larger, different background
- Skeleton (4 rows)

#### Posting Plan Card

**File:** `/features/strategy/components/PostingPlanCard.tsx`

Props: `{ plan: PostingPlan | undefined, isLoading: boolean }`

Display:
- Large cadence label (LIGHT / MODERATE / AGGRESSIVE) with color coding
- Two big numbers side by side: long-form/week and short-form/week
- Weekly hours commitment
- `firstMonthFocus` paragraph
- Growth phases as a horizontal timeline (Phase 1 → Phase 2 → Phase 3) — each phase shows label, duration, and goal on click/hover
- Skeleton loading state

#### Quick Wins Panel

**File:** `/features/strategy/components/QuickWinsPanel.tsx`

Props: `{ wins: string[], isLoading: boolean }`

Display:
- Section heading "Your First 2 Weeks"
- Numbered list of 5 quick wins
- Each win has a checkbox visual (not functional — just decorative)
- Wins should feel like a real action list, not bullets
- Subtle background highlight on the first item ("Start here")
- Skeleton (5 rows)

---

### 14. Strategy Dashboard Page

**File:** `app/strategy/page.tsx`

Build a full dedicated page at `/strategy`.

Layout (top to bottom):
- Keyword search input at the top (same debounced pattern as `app/trends/page.tsx`)
- `StrategySummaryCard` (full width)
- Two-column row: `ContentPillarsGrid` (left 60%) + `WinningFormatsPanel` (right 40%)
- `VideoIdeasBoard` (full width) with filter tabs
- Two-column row: `DifferentiationPanel` (left 55%) + `PostingPlanCard` (right 45%)
- `QuickWinsPanel` (full width, visually prominent — this is the CTA section)

Empty state: centered text "Enter a keyword to generate your personalized content strategy"

Error state: error message + retry button

Add `/strategy` to the app's navigation alongside `/trends` and `/creators`.

Page title: "Content Strategy" in the header.

---

### 15. Cross-Feature Navigation

Update `app/trends/page.tsx`:

At the bottom of the monetization section, add a prominent CTA button: **"Generate Content Strategy →"** that navigates to `/strategy?keyword={activeKeyword}`. Pre-populate the strategy page's keyword input from the URL param on mount.

Update `app/creators/page.tsx`:

After the `StrategyInsightsPanel`, add a small link: **"Get full content strategy for this niche →"** that navigates to `/strategy?keyword={topicTag}` using the channel's first topic tag.

---

## DESIGN REQUIREMENTS

- **Dark-mode-first** — consistent with all previous steps
- **"Consulting report" aesthetic** — this page should feel like a deliverable from a professional strategist, not a dashboard of charts
- Use **shadcn/ui**: `Card`, `Badge`, `Progress`, `Skeleton`, `Button`, `Tabs`, `Separator`, `Collapsible`
- The `VideoIdeasBoard` is the hero component of this page — it should be the most visually rich section
- Animations: count-up numbers, staggered card entrance (Framer Motion `staggerChildren`), progress bar animations
- The `QuickWinsPanel` should feel like a genuine CTA/checklist — make it visually distinct from the rest of the page
- All layouts **fully responsive**
- Skeleton states must match final layout exactly

---

## CONSTRAINTS

- No paid APIs or LLM calls required — rule-based generation only for MVP
- No new database schema in this step
- All TypeScript — no `any`, no untyped props
- All strategy logic lives in dedicated files — no logic in components or hooks
- Import and reuse `InsightsResponse`, `OpportunityResult`, `MonetizationInsights` types from previous steps — do not redefine them
- `getContentStrategy` must be a pure synchronous function
- All generated text must be dynamic — constructed from input data, never hardcoded static strings

---

## WHAT NOT TO BUILD IN THIS STEP

- Do not build saved/exported strategies
- Do not build AI/LLM API calls (rule-based only for MVP)
- Do not build strategy comparison between keywords
- Do not build user accounts or personalization
- Do not build scheduling or calendar integration
- Do not modify the Step 1 C# backend

---

## SUCCESS CRITERIA

Given keyword `"personal finance"`:

1. `GET /api/strategy?keyword=personal+finance` returns a full `ContentStrategy` within ~900ms
2. `strategySummary` references the keyword and at least one specific signal
3. `pillars` contains 3–5 items with at least 4 `sampleTopics` each
4. `videoIdeas` contains exactly 12 ideas including at least 2 EASY, 2 SHORT_FORM variants, 1 CASE_STUDY
5. `postingPlan` contains exactly 3 growth phases
6. `differentiationStrategies` contains 4–6 items sorted by priority
7. `quickWins` contains exactly 5 items
8. `VideoIdeasBoard` filter tabs work — filtering to "Easy" shows only EASY difficulty ideas
9. `PostingPlanCard` growth phase timeline is interactive (click/hover reveals phase detail)
10. "Generate Content Strategy →" CTA on trends page navigates with keyword pre-populated
11. All loading states use skeletons with zero layout shift

---

## DELIVERY ORDER

Produce files in this exact order:

1. `/features/strategy/types.ts`
2. `/features/strategy/gapAnalysis.ts`
3. `/features/strategy/formatDetection.ts`
4. `/features/strategy/titlePatterns.ts`
5. `/features/strategy/pillars.ts`
6. `/features/strategy/videoIdeas.ts`
7. `/features/strategy/postingPlan.ts`
8. `/features/strategy/differentiation.ts`
9. `/features/strategy/quickWins.ts`
10. `/features/strategy/services/getContentStrategy.ts`
11. `/app/api/strategy/route.ts`
12. `/features/strategy/hooks/useStrategy.ts`
13. `/features/strategy/components/StrategySummaryCard.tsx`
14. `/features/strategy/components/ContentPillarsGrid.tsx`
15. `/features/strategy/components/WinningFormatsPanel.tsx`
16. `/features/strategy/components/VideoIdeasBoard.tsx`
17. `/features/strategy/components/DifferentiationPanel.tsx`
18. `/features/strategy/components/PostingPlanCard.tsx`
19. `/features/strategy/components/QuickWinsPanel.tsx`
20. `app/strategy/page.tsx`
21. Updated `app/trends/page.tsx` (CTA button only)
22. Updated `app/creators/page.tsx` (strategy link only)

After all files, provide a brief note on which rule-based modules would benefit most from a real LLM call in production, and what the prompt structure would look like for each.

---